<div class="row">
  <div class="col-md-2">
    <button style="width: 100%;" class="btn btn-green" type="submit" (click)="exportToExcel()">
      <i class="fa fa-file-excel-o"></i> Inventario diario
    </button>
  </div>
  <div class="col-md-3">
    <div style="width: 100%;">
      <div class="row">
        <div class="col-md-4">
          <label class="form-label">Fecha inicio</label>
        </div>
        <div class="col-md-8">
          <mat-form-field appearance="outline" (click)="picker1?.open()" style="width: 100%">
            <input matInput [ngModel]="this.dtpFecIni_1 | date: 'yyyy/MM/dd'" name="dateFieldView1" style="width: 100%; cursor: pointer" (focus)="picker1?.open()" (dateChange)="setDateInicio_1(dateField1.value)" readonly/>
            <input style="width: 100%;" matInput [matDatepicker]="picker1" name="dateField1" #dateField1 required (dateChange)="setDateInicio_1(dateField1.value)" hidden/>
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div style="width: 100%;">
      <div class="row">
        <div class="col-md-4">
          <label class="form-label">Fecha fin</label>
        </div>
        <div class="col-md-8">
          <mat-form-field appearance="outline" (click)="picker2?.open()" style="width: 100%">
            <input matInput [ngModel]="this.dtpFecIni_2 | date: 'yyyy/MM/dd'" name="dateFieldView2" style="width: 100%; cursor: pointer" (focus)="picker2?.open()" (dateChange)="setDateInicio_2(dateField2.value)" readonly/>
            <input style="width: 100%;" matInput [matDatepicker]="picker2" name="dateField2" #dateField2 required (dateChange)="setDateInicio_2(dateField2.value)" hidden/>
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <button class="btn btn-green" type="submit" (click)="Consultar()">Consultar</button>
  </div>
</div>
<div class="row">
  <div class="col-md-4">
    <div class="table-container">
      <table  mat-table matTableExporter  #exporter="matTableExporter"
      class="table table-bordered text-nowrap"
       #MatSortSQL="matSort" matSort matSortActive="created"
       matSortDisableClear matSortDirection="desc" style="width:100%" [dataSource]="consulInvDS" class="mat-elevation-z8">
        <!-- Position Column -->
        <ng-container matColumnDef="s348_Date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
        <td mat-cell *matCellDef="let element">{{element.s348_Date}}</td>
        </ng-container>

        <ng-container matColumnDef="s348_Underlying">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Materia Prima</th>
          <td mat-cell *matCellDef="let element">{{element.s348_Underlying}}</td>
        </ng-container>

        <ng-container matColumnDef="s348_Ticker">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Ticker</th>
          <td mat-cell *matCellDef="let element">{{element.s348_Ticker}}</td>
        </ng-container>
        <ng-container matColumnDef="s348_ToneladasMetricas">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>TM</th>
          <td mat-cell *matCellDef="let element"  [class.selected]="isSelected(element, 's348_ToneladasMetricas')" 
          (mousedown)="startSelection(element, 's348_ToneladasMetricas')" (mousemove)="updateSelection(element, 's348_ToneladasMetricas')"
           (mouseup)="endSelection()"
        >{{formatNumber(element.s348_ToneladasMetricas)}}</td>
        </ng-container>
      
         <tr mat-header-row *matHeaderRowDef="columnaListainv;sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: columnaListainv;" [ngClass]></tr>
        </table>
      </div>
      <div>
        <p>Total Sum: {{ totalSum| number:'1.2-2' }}</p>
        <p>Total Count: {{ totalCount| number:'1.2-2' }}</p>
    </div>
  </div>
 

  <div class="col-md-8">
    <div id="main_inventario" style="width: 920px;height:450px;margin: 20px;"></div>
  </div>

</div>


