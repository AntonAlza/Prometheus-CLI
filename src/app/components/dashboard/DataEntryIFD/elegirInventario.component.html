<div id="myModalAsociar" tabindex="-1" appJpDraggableDialog>
  <!-- <div id="myModalAsociar" tabindex="-1" > -->


  <div class="row">
    <div style="width: 40%;  padding: 0% 0% 0% 0%;">
      <h5 class="modal-title">Lista de Inventario / Tránsito</h5>
    </div>
    <div style="width: 60%; padding: 0% 0% 0% 0%;">
      <button type="button" class="close" aria-label="Close" (click)="cerrar()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>
  <span class="br"></span>

  <div >
    <div class="card shadow-none border" >
      <h3 class="modal-title">Estrategia </h3>
      <span class="br"></span>
      <table>
        <tr>
          <td style="width: 8%; padding: 1% 0% 0% 1%;">
            <label class="form-label">Código </label>
          </td>
          <td style="width: 10%; padding: 0% 0% 0% 0%;">
            <input style="width: 100%; padding: 0% 0% 0% 2%;" id="deshabilitado" class="form-control" type="text"
              placeholder="Estrategia" name="idEstrategia" [(ngModel)]="idEstrategia" readonly />
          </td>
          <td style="width: 4%; padding: 1% 0% 0% 2%;">
            <label class="form-label">TM </label>
          </td>
          <td style="width: 10%; padding: 0% 0% 0% 0%;">
            <input style="width: 100%; padding: 0% 0% 0% 2%;" id="deshabilitado" class="form-control" type="text"
              placeholder="TM a cubrir" name="tmCubierta" [ngModel]="tmCubierta | number:'1.1-2'" readonly />
          </td>
          <td style="width: 68%;">
          </td>
        </tr>
      </table>
      <span class="br"></span>
    </div>

   </div><!-- fin de límites-->



  <div class="card-body">
    <div class="table-responsive ">
      <div class="scroll-container">
        <table mat-table matSort matSortActive="created" matSortDisableClear matSortDirection="desc" style="width:100%"
          [dataSource]="dataSourceSQLFinal">


          <ng-container matColumnDef="select">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>Selecc.</th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox  (click)="$event.stopPropagation()"
                  (change)="$event ? selectionSQLFinal.toggle(row) : null"
                  [checked]="selectionSQLFinal.isSelected(row)">
              </mat-checkbox>

            </td>
          </ng-container>

          <ng-container matColumnDef="s262_CodigoBarco">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>Operación</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_CodigoBarco}}
            </td>
          </ng-container>

          <ng-container class="border-bottom-0" matColumnDef="s262_Sociedad">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>Sociedad</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_Sociedad}}
            </td>
          </ng-container>

          <ng-container matColumnDef="s262_Subyacente">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>Subyacente</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_Subyacente}}
            </td>
          </ng-container>


          <ng-container matColumnDef="s262_Proteina">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>Proteina</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_Proteina}}
            </td>
          </ng-container>

         

          <ng-container matColumnDef="s262_PrecioFOB">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>Precio</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_PrecioFOB | number:'1.1-2'}}
            </td>
          </ng-container>

          <ng-container matColumnDef="s262_TMDisponiblesParaCubrir">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>TM Disponibles</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_TMDisponiblesParaCubrir | number:'1.1-2'}}
            </td>
          </ng-container>

          <ng-container matColumnDef="s262_Asignados">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>TM Asignados</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_Asignados | number:'1.1-2'}}
            </td>
          </ng-container>


          <ng-container matColumnDef="s262_Asignar">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> TM Asignar </th>
            <!-- <td mat-cell *matCellDef="let element"> {{element.s210_CAKS_UTILIZAR}} </td> -->
            <td mat-cell *matCellDef="let element">
              <div>

                <mat-form-field class="caksutilizar">
                  <input matInput class="form-control" type="number"  max={{element.s262_TMDisponiblesParaCubrir}}
                     name="element.s262_Asignar"
                    [(ngModel)]="element.s262_Asignar">
                </mat-form-field>
              </div>
            </td>
          </ng-container>


          <ng-container matColumnDef="s262_Estado">
            <th mat-header-cell class="border-bottom-0" *matHeaderCellDef mat-sort-header>Estado</th>
            <td mat-cell *matCellDef="let element" (contextmenu)="onContextMenu($event, element)">
              {{element.s262_Estado}}
            </td>
          </ng-container>

        

          <tr mat-header-row *matHeaderRowDef="displayedColumnsAsociarSQL sticky: true"
            style="text-align: center; vertical-align: middle;"></tr>

          <tr mat-row *matRowDef="let element columns: displayedColumnsAsociarSQL;"
            (click)="changeChkState(element.t373_IDSQL)">
          </tr>


        </table>
      </div>
      <mat-paginator mat-paginator #MatPaginatorSQL [pageSizeOptions]="[5, 10, 25, 100]"
        aria-label="Select page of users"></mat-paginator>

      <div style="visibility: hidden; position: fixed" [style.left]="contextMenuPosition.x"
        [style.top]="contextMenuPosition.y" [matMenuTriggerFor]="contextMenu">
      </div>
      <mat-menu #contextMenu="matMenu" #contextMenu2="matMenu" class="opciones">
        <ng-template matMenuContent let-item="item" class="opciones">
          <button mat-menu-item (click)="asociarRJO_OperacionesSQL()">Asociar</button>
          <!-- <button mat-menu-item (click)="dismiss('Cross click')">Cancelar</button> -->

        </ng-template>
      </mat-menu>

    </div>
    <br>
    <div class="row">

      <div class="col d-flex justify-content-end">
        <table style=" width: 100%; border-bottom:1px solid #ffffff;">
          <tr style="width:100%">
            <td style="text-align:right;  padding-right:1.3%">
              <button class="btn btn-green" type="submit" (click)="inventarioRegistrar()">Agregar</button>
            </td>
            <!-- <td style="text-align:right;  padding-right:1.3% ">
                      <button class="btn btn-green" type="submit"  (click)="embarqueQuitar()" >Quitar</button>
            </td> -->
          </tr>
        </table>

      </div>
    </div>
  </div>


</div>