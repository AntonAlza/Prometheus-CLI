<!-- <div  id="myModal" tabindex="-1" data-keyboard="false" (window:mouseup)="autoCloseForDropdownCars($event)" role="dialog"> -->
  <div  id="myModal" tabindex="-1" data-keyboard="false"  role="dialog">
    <div   role="document" class="msg_card_body" >
      <div class="modal-header">
                <table style=" width: 100%; border-bottom:1px solid #ffffff;"  >
                  <tr   style="width:100%" >
                      <td   style="text-align:left;  padding: 0% 0% 0.5% 1%">
                        <h3 class="modal-title">Lista de Operaciones Broker sin cuenta</h3>
                      </td>
                      <td style="text-align:right;  padding-right:1.3% ">
                        <button type="button" class="close" aria-label="Close" (click)="cerrar()">
                          <mat-icon  >close</mat-icon>
                      </button>

                      </td>
                  </tr>
                </table>
      </div>
    <div    class="card-body">
      <table>
        <tr>
          <td>
             <input type="text"  class="redondeado"  size="100"    (keyup)="applyFilter($event)" placeholder="Buscar en Broker" autocomplete="off">
        <br>
        <br>
      </td>
      <td style="text-align:right">
        <label class="form-label">Broker <span class="text-red">*</span></label>
      </td>
      <td style="width: 15%">
        
          
          <ng-select class="form-control form-select" 
              name="idBroker" 
              [(ngModel)]="idBroker"  
              (change)="onSelectBroker($event)">
                  <ng-option  value={{lista.t006_ID}} 
                        *ngFor="let lista of listaBroker" >{{lista.t006_Name}}  
                  </ng-option>

          </ng-select>
        </td>
        </tr> 
      </table>
    <div class="tabla-table-container">
          <table mat-table
          
          matSort matSortActive="created" matSortDisableClear matSortDirection="desc"
          style="width:100%"
          [dataSource]="dataSource" >


            <ng-container  class="border-bottom-0" matColumnDef="s210_DescripcionBroker">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Broker </th>
              <td mat-cell *matCellDef="let element"> {{element.s210_DescripcionBroker}} </td>
              </ng-container>


                  <ng-container  matColumnDef="s210_IDBroker">
                    <th  mat-header-cell class="border-bottom-0"  *matHeaderCellDef mat-sort-header> Id </th>
                    <td
                    (contextmenu)="onContextMenu($event, element)"
                        mat-cell *matCellDef="let element"
                    > {{element.s210_IDBroker}}


                    </td>
                  </ng-container>


          <!-- Checkbox Column -->
                <ng-container matColumnDef="select">
                  <th class="border-bottom-0"  mat-header-cell *matHeaderCellDef>H.A<br>
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                                  [checked]="selection.hasValue() && isAllSelected()"
                                  [indeterminate]="selection.hasValue() && !isAllSelected()">
                    </mat-checkbox>
                  </th>
                  <td mat-cell *matCellDef="let row">
                    <mat-checkbox  (click)="$event.stopPropagation()"
                                  (change)="$event ? selection.toggle(row) : null"
                                  [checked]="selection.isSelected(row)">
                    </mat-checkbox>
                  </td>
                </ng-container>

              <!-- Checkbox Column -->
              <ng-container matColumnDef="selectsoycrush">
                <th class="border-bottom-0"  mat-header-cell *matHeaderCellDef>SoyCrush<br>
                  <mat-checkbox (change)="$event ? masterToggleSoyCrush() : null"
                                [checked]="selectionSoyCrush.hasValue() && isAllSelectedSoyCrush()"
                                [indeterminate]="selectionSoyCrush.hasValue() && !isAllSelectedSoyCrush()">
                  </mat-checkbox>
                </th>
                <td mat-cell *matCellDef="let row">
                  <mat-checkbox  (click)="$event.stopPropagation()"
                                (change)="$event ? selectionSoyCrush.toggle(row) : null"
                                [checked]="selectionSoyCrush.isSelected(row)">
                  </mat-checkbox>
                </td>
              </ng-container>
        
        
        

            <ng-container  matColumnDef="s210_FECHAREGISTRO">
            <th  mat-header-cell class="border-bottom-0"  *matHeaderCellDef mat-sort-header> Fecha Registro </th>
            <td  data-type="date" mat-cell *matCellDef="let element"
            >
            {{element.s210_FECHAREGISTRO.substr(6)+'/' +element.s210_FECHAREGISTRO.substr(4,2)+'/'+element.s210_FECHAREGISTRO.substr(0,4) }}


            </td>
            </ng-container>

            <ng-container matColumnDef="s210_FECHATRADE">
            <th class="thead" class="border-bottom-0" mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Operación </th>

            <td  data-type="date" mat-cell *matCellDef="let element">
            {{element.s210_FECHATRADE.substr(6)+'/' +element.s210_FECHATRADE.substr(4,2)+'/'+element.s210_FECHATRADE.substr(0,4) }}
            </td>

            </ng-container>

            <ng-container class="border-bottom-0" matColumnDef="s210_FECHAEXPIRACION">
            <th mat-header-cell class="border-bottom-0"  *matHeaderCellDef mat-sort-header> Fecha Expiración </th>

            <td  data-type="date" mat-cell *matCellDef="let element">
              {{element.s210_FECHAEXPIRACION.substr(6)+'/' +element.s210_FECHAEXPIRACION.substr(4,2)+'/'+element.s210_FECHAEXPIRACION.substr(0,4) }}
            </td>


            </ng-container>

            <ng-container  class="border-bottom-0" matColumnDef="s210_NROCUENTA">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nro. Cuenta </th>
            <td mat-cell *matCellDef="let element"> {{element.s210_NROCUENTA}} </td>
            </ng-container>

            <ng-container  class="border-bottom-0" matColumnDef="s210_NOMBRECUENTA">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Desc. Cuenta </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_NOMBRECUENTA}} </td>
            </ng-container>

            <ng-container  class="border-bottom-0" matColumnDef="s210_NUMEROORDEN">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nro. Orden </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_NUMEROORDEN}} </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_Underlying">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Subyacente </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_Underlying}} </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_TICKER">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Ticker </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_TICKER}} </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_TIPOOPCION">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo Opción </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_TIPOOPCION}} </td>
            </ng-container>
            <ng-container    matColumnDef="s210_NOMBREOPCION">
                    <th width ="180px" mat-header-cell *matHeaderCellDef mat-sort-header> Nombre Operación </th>
                    <td width ="180px"  mat-cell *matCellDef="let element"> {{element.s210_NOMBREOPCION}} </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_TIPOOPERACION">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo Operación </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_TIPOOPERACION}} </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_CAKSTOTAL">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Caks Total </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_CAKSTOTAL}} </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_CAKSDISPONIBLE">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Caks Disponible </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_CAKSDISPONIBLE}} </td>
            </ng-container>

            <ng-container   matColumnDef="s210_CAKS_UTILIZAR" >
                    <th  mat-header-cell *matHeaderCellDef mat-sort-header> Caks Utilizar </th>
                    <!-- <td mat-cell *matCellDef="let element"> {{element.s210_CAKS_UTILIZAR}} </td> -->
                    <td  mat-cell *matCellDef="let element" >
                      <div  >

                      <mat-form-field  class="caksutilizar">
                        <input matInput  class="form-control" type="number" min="0" max={{element.s210_CAKSDISPONIBLE}}   oninput="validity.valid||(value='');"
                        name="element.s210_CAKS_UTILIZAR" [(ngModel)]="element.s210_CAKS_UTILIZAR">
                      </mat-form-field>
                    </div>
                    </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_STRIKE">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Strike </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_STRIKE}} </td>
            </ng-container>
            <ng-container  class="border-bottom-0" matColumnDef="s210_PRIMA">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Prima </th>
                    <td mat-cell *matCellDef="let element"> {{element.s210_PRIMA}} </td>
            </ng-container>

            <ng-container  class="border-bottom-0" matColumnDef="s210_PRIMA_FO">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Prima FO </th>
              <td mat-cell *matCellDef="let element"> {{element.s210_PRIMA_FO}} </td>
            </ng-container>


            <tr  mat-header-row *matHeaderRowDef="displayedColumns sticky: true"
            style="text-align: center; vertical-align: middle;"

            ></tr>

            <tr mat-row *matRowDef="let element columns: displayedColumns;" style="text-align: center; vertical-align: middle;" 
            class="my-mat-row" >
            </tr>
        </table>
      </div>
      <mat-paginator [pageSizeOptions]="[4, 8, 16, 32]" aria-label="Select page of users"></mat-paginator>
  </div>
  </div>
  </div>  
